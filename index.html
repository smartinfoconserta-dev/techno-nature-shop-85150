<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <!-- Anti-Cache Meta Tags -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <!-- CRITICAL: Mata Service Worker ANTES de qualquer outro script -->
    <script>
      (function() {
        'use strict';
        var FLAG_KEY = 'sw_killed_v5';
        var alreadyKilled = localStorage.getItem(FLAG_KEY);
        
        // ALWAYS kill Service Workers on every load until flag is set
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            var hasActive = false;
            registrations.forEach(function(reg) {
              if (reg.active || reg.waiting || reg.installing) {
                hasActive = true;
              }
              reg.unregister();
            });
            
            if ('caches' in window) {
              caches.keys().then(function(names) {
                return Promise.all(names.map(function(name) {
                  return caches.delete(name);
                }));
              }).then(function() {
                console.log('âœ… Service Workers e caches removidos v5 (inline)');
                
                // Force clear PWA-related localStorage
                if (!alreadyKilled) {
                  ['products_data', 'quick_sales_data', 'receivables_data', 
                   'monthly_reports_data', 'last_month_check', 'app_settings',
                   'customer_session', 'sw_killed_v2', 'sw_killed_v3', 'sw_killed_v4',
                   'cleared_products_v4', 'pwa_killed_v4'].forEach(function(key) {
                    localStorage.removeItem(key);
                  });
                  localStorage.setItem(FLAG_KEY, 'true');
                  console.log('ðŸ§¹ LocalStorage PWA limpo');
                }
                
                if (hasActive && navigator.serviceWorker.controller && !alreadyKilled) {
                  console.log('ðŸ”„ Recarregando para aplicar mudanÃ§as...');
                  location.reload();
                }
              });
            } else {
              if (!alreadyKilled) {
                localStorage.setItem(FLAG_KEY, 'true');
                if (hasActive && navigator.serviceWorker.controller) {
                  location.reload();
                }
              }
            }
          });
        }
      })();
    </script>
    
    <!-- Favicons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="canonical" href="https://www.ramontech.com.br/" />
    
    <title>Ramon Tech Solutions - CatÃ¡logo Digital de Tecnologia</title>
    <meta name="description" content="CatÃ¡logo Digital de Tecnologia - Notebooks, Celulares, Tablets e mais!" />
    <meta name="author" content="Ramon Tech Solutions" />

    <meta property="og:title" content="Ramon Tech Solutions" />
    <meta property="og:description" content="CatÃ¡logo Digital de Tecnologia - Notebooks, Celulares, Tablets e mais" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.ramontech.com.br/og-image.jpg" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:url" content="https://www.ramontech.com.br/" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image" content="https://www.ramontech.com.br/og-image.jpg" />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
